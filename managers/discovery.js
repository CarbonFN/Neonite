
const Default = require("../discovery/discoveryMenu.json");
const NeoLog = require("../structs/NeoLog");

const discoveryResponses = {
    ver2240 : {
		"Panels": [
		   {
			  "PanelName": "ByEpicNoBigBattle6Col",
			  "Pages": [
				 {
					"results": [
					   {
						  "linkData": {
							 "namespace": "fn",
							 "mnemonic": "playlist_radish",
							 "linkType": "BR:Playlist",
							 "active": true,
							 "disabled": false,
							 "version": 95,
							 "moderationStatus": "Unmoderated",
							 "accountId": "epic",
							 "creatorName": "Epic",
							 "descriptionTags": [],
							 "metadata": {
								"image_url": "https://media.discordapp.net/attachments/1026187180885950498/1127989038045999145/LoadingScreen_Event.png",
								"matchmaking": {
								   "override_playlist": "playlist_radish"
								}
							 }
						  },
						  "lastVisited": null,
						  "linkCode": "playlist_radish",
						  "isFavorite": false
					   },
					   {
						  "linkData": {
							 "namespace": "fn",
							 "mnemonic": "playlist_defaultsolo",
							 "linkType": "BR:Playlist",
							 "active": true,
							 "disabled": false,
							 "version": 95,
							 "moderationStatus": "Unmoderated",
							 "accountId": "epic",
							 "creatorName": "Epic",
							 "descriptionTags": [],
							 "metadata": {
								"image_url": "https://cdn2.unrealengine.com/25br-solo-1920-1920x1080-f447350aee68.jpg",
								"matchmaking": {
								   "override_playlist": "playlist_defaultsolo"
								}
							 }
						  },
						  "lastVisited": null,
						  "linkCode": "playlist_defaultsolo",
						  "isFavorite": false
					   },
					   {
						  "linkData": {
							 "namespace": "fn",
							 "mnemonic": "playlist_defaultduo",
							 "linkType": "BR:Playlist",
							 "active": true,
							 "disabled": false,
							 "version": 95,
							 "moderationStatus": "Unmoderated",
							 "accountId": "epic",
							 "creatorName": "Epic",
							 "descriptionTags": [],
							 "metadata": {
								"image_url": "https://cdn2.unrealengine.com/25br-duos-1920-1920x1080-8b0ad8cc6fd4.jpg",
								"matchmaking": {
								   "override_playlist": "playlist_defaultduo"
								}
							 }
						  },
						  "lastVisited": null,
						  "linkCode": "playlist_defaultduo",
						  "isFavorite": false
					   },
					   {
						  "linkData": {
							 "namespace": "fn",
							 "mnemonic": "playlist_trios",
							 "linkType": "BR:Playlist",
							 "active": true,
							 "disabled": false,
							 "version": 95,
							 "moderationStatus": "Unmoderated",
							 "accountId": "epic",
							 "creatorName": "Epic",
							 "descriptionTags": [],
							 "metadata": {
								"image_url": "https://cdn2.unrealengine.com/25br-trios-1920-1920x1080-9866e812b10c.jpg",
								"matchmaking": {
								   "override_playlist": "playlist_trios"
								}
							 }
						  },
						  "lastVisited": null,
						  "linkCode": "playlist_trios",
						  "isFavorite": false
					   },
					   {
						  "linkData": {
							 "namespace": "fn",
							 "mnemonic": "playlist_defaultsquad",
							 "linkType": "BR:Playlist",
							 "active": true,
							 "disabled": false,
							 "version": 95,
							 "moderationStatus": "Unmoderated",
							 "accountId": "epic",
							 "creatorName": "Epic",
							 "descriptionTags": [],
							 "metadata": {
								"image_url": "https://cdn2.unrealengine.com/25br-squads-1920-1920x1080-d515b42c587f.jpg",
								"matchmaking": {
								   "override_playlist": "playlist_defaultsquad"
								}
							 }
						  },
						  "lastVisited": null,
						  "linkCode": "playlist_defaultsquad",
						  "isFavorite": false
					   },
					   {
						  "linkData": {
							 "namespace": "fn",
							 "mnemonic": "playlist_papaya",
							 "linkType": "BR:Playlist",
							 "active": true,
							 "disabled": false,
							 "version": 95,
							 "moderationStatus": "Unmoderated",
							 "accountId": "epic",
							 "creatorName": "Epic",
							 "descriptionTags": [],
							 "metadata": {
								"image_url": "https://cdn2.unrealengine.com/partyroyale-1920-1920x1080-7001724bc7ab.jpg",
								"matchmaking": {
								   "override_playlist": "playlist_papaya"
								}
							 }
						  },
						  "lastVisited": null,
						  "linkCode": "playlist_papaya",
						  "isFavorite": false
					   }
					],
					"hasMore": false
				 }
			  ]
		   }
		],
		"TestCohorts": [
		   "testing"
		],
		"ModeSets": {}
	 },
    ver2040 : {
		"Panels": [
		   {
			  "PanelName": "ByEpicNoBigBattle6Col",
			  "Pages": [
				 {
					"results": [
					   {
						  "linkData": {
							 "namespace": "fn",
							 "mnemonic": "playlist_armadillo",
							 "linkType": "BR:Playlist",
							 "active": true,
							 "disabled": false,
							 "version": 95,
							 "moderationStatus": "Unmoderated",
							 "accountId": "epic",
							 "creatorName": "Epic",
							 "descriptionTags": [],
							 "metadata": {
								"image_url": "https://cdn2.unrealengine.com/20br-armadillo-creativetile-tile-1920x1080-1920x1080-f40652491ad0.jpg",
								"matchmaking": {
								   "override_playlist": "playlist_armadillo"
								}
							 }
						  },
						  "lastVisited": null,
						  "linkCode": "playlist_armadillo",
						  "isFavorite": false
					   },
					   {
						  "linkData": {
							 "namespace": "fn",
							 "mnemonic": "playlist_defaultsolo",
							 "linkType": "BR:Playlist",
							 "active": true,
							 "disabled": false,
							 "version": 95,
							 "moderationStatus": "Unmoderated",
							 "accountId": "epic",
							 "creatorName": "Epic",
							 "descriptionTags": [],
							 "metadata": {
								"image_url": "https://cdn2.unrealengine.com/25br-solo-1920-1920x1080-f447350aee68.jpg",
								"matchmaking": {
								   "override_playlist": "playlist_defaultsolo"
								}
							 }
						  },
						  "lastVisited": null,
						  "linkCode": "playlist_defaultsolo",
						  "isFavorite": false
					   },
					   {
						  "linkData": {
							 "namespace": "fn",
							 "mnemonic": "playlist_defaultduo",
							 "linkType": "BR:Playlist",
							 "active": true,
							 "disabled": false,
							 "version": 95,
							 "moderationStatus": "Unmoderated",
							 "accountId": "epic",
							 "creatorName": "Epic",
							 "descriptionTags": [],
							 "metadata": {
								"image_url": "https://cdn2.unrealengine.com/25br-duos-1920-1920x1080-8b0ad8cc6fd4.jpg",
								"matchmaking": {
								   "override_playlist": "playlist_defaultduo"
								}
							 }
						  },
						  "lastVisited": null,
						  "linkCode": "playlist_defaultduo",
						  "isFavorite": false
					   },
					   {
						  "linkData": {
							 "namespace": "fn",
							 "mnemonic": "playlist_trios",
							 "linkType": "BR:Playlist",
							 "active": true,
							 "disabled": false,
							 "version": 95,
							 "moderationStatus": "Unmoderated",
							 "accountId": "epic",
							 "creatorName": "Epic",
							 "descriptionTags": [],
							 "metadata": {
								"image_url": "https://cdn2.unrealengine.com/25br-trios-1920-1920x1080-9866e812b10c.jpg",
								"matchmaking": {
								   "override_playlist": "playlist_trios"
								}
							 }
						  },
						  "lastVisited": null,
						  "linkCode": "playlist_trios",
						  "isFavorite": false
					   },
					   {
						  "linkData": {
							 "namespace": "fn",
							 "mnemonic": "playlist_defaultsquad",
							 "linkType": "BR:Playlist",
							 "active": true,
							 "disabled": false,
							 "version": 95,
							 "moderationStatus": "Unmoderated",
							 "accountId": "epic",
							 "creatorName": "Epic",
							 "descriptionTags": [],
							 "metadata": {
								"image_url": "https://cdn2.unrealengine.com/25br-squads-1920-1920x1080-d515b42c587f.jpg",
								"matchmaking": {
								   "override_playlist": "playlist_defaultsquad"
								}
							 }
						  },
						  "lastVisited": null,
						  "linkCode": "playlist_defaultsquad",
						  "isFavorite": false
					   },
					   {
						  "linkData": {
							 "namespace": "fn",
							 "mnemonic": "playlist_papaya",
							 "linkType": "BR:Playlist",
							 "active": true,
							 "disabled": false,
							 "version": 95,
							 "moderationStatus": "Unmoderated",
							 "accountId": "epic",
							 "creatorName": "Epic",
							 "descriptionTags": [],
							 "metadata": {
								"image_url": "https://cdn2.unrealengine.com/partyroyale-1920-1920x1080-7001724bc7ab.jpg",
								"matchmaking": {
								   "override_playlist": "playlist_papaya"
								}
							 }
						  },
						  "lastVisited": null,
						  "linkCode": "playlist_papaya",
						  "isFavorite": false
					   }
					],
					"hasMore": false
				 }
			  ]
		   }
		],
		"TestCohorts": [
		   "testing"
		],
		"ModeSets": {}
	 },
	 ver19 : {
		"Panels": [
		   {
			  "PanelName": "ByEpicNoBigBattle6Col",
			  "Pages": [
				 {
					"results": [
					   {
						  "linkData": {
							 "namespace": "fn",
							 "mnemonic": "playlist_pumpkin",
							 "linkType": "BR:Playlist",
							 "active": true,
							 "disabled": false,
							 "version": 95,
							 "moderationStatus": "Unmoderated",
							 "accountId": "epic",
							 "creatorName": "Epic",
							 "descriptionTags": [],
							 "metadata": {
								"image_url": "https://media.discordapp.net/attachments/1026187180885950498/1127972681040535672/image.png",
								"matchmaking": {
								   "override_playlist": "playlist_pumpkin"
								}
							 }
						  },
						  "lastVisited": null,
						  "linkCode": "playlist_pumpkin",
						  "isFavorite": false
					   },
					   {
						  "linkData": {
							 "namespace": "fn",
							 "mnemonic": "playlist_defaultsolo",
							 "linkType": "BR:Playlist",
							 "active": true,
							 "disabled": false,
							 "version": 95,
							 "moderationStatus": "Unmoderated",
							 "accountId": "epic",
							 "creatorName": "Epic",
							 "descriptionTags": [],
							 "metadata": {
								"image_url": "https://cdn2.unrealengine.com/25br-solo-1920-1920x1080-f447350aee68.jpg",
								"matchmaking": {
								   "override_playlist": "playlist_defaultsolo"
								}
							 }
						  },
						  "lastVisited": null,
						  "linkCode": "playlist_defaultsolo",
						  "isFavorite": false
					   },
					   {
						  "linkData": {
							 "namespace": "fn",
							 "mnemonic": "playlist_defaultduo",
							 "linkType": "BR:Playlist",
							 "active": true,
							 "disabled": false,
							 "version": 95,
							 "moderationStatus": "Unmoderated",
							 "accountId": "epic",
							 "creatorName": "Epic",
							 "descriptionTags": [],
							 "metadata": {
								"image_url": "https://cdn2.unrealengine.com/25br-duos-1920-1920x1080-8b0ad8cc6fd4.jpg",
								"matchmaking": {
								   "override_playlist": "playlist_defaultduo"
								}
							 }
						  },
						  "lastVisited": null,
						  "linkCode": "playlist_defaultduo",
						  "isFavorite": false
					   },
					   {
						  "linkData": {
							 "namespace": "fn",
							 "mnemonic": "playlist_trios",
							 "linkType": "BR:Playlist",
							 "active": true,
							 "disabled": false,
							 "version": 95,
							 "moderationStatus": "Unmoderated",
							 "accountId": "epic",
							 "creatorName": "Epic",
							 "descriptionTags": [],
							 "metadata": {
								"image_url": "https://cdn2.unrealengine.com/25br-trios-1920-1920x1080-9866e812b10c.jpg",
								"matchmaking": {
								   "override_playlist": "playlist_trios"
								}
							 }
						  },
						  "lastVisited": null,
						  "linkCode": "playlist_trios",
						  "isFavorite": false
					   },
					   {
						  "linkData": {
							 "namespace": "fn",
							 "mnemonic": "playlist_defaultsquad",
							 "linkType": "BR:Playlist",
							 "active": true,
							 "disabled": false,
							 "version": 95,
							 "moderationStatus": "Unmoderated",
							 "accountId": "epic",
							 "creatorName": "Epic",
							 "descriptionTags": [],
							 "metadata": {
								"image_url": "https://cdn2.unrealengine.com/25br-squads-1920-1920x1080-d515b42c587f.jpg",
								"matchmaking": {
								   "override_playlist": "playlist_defaultsquad"
								}
							 }
						  },
						  "lastVisited": null,
						  "linkCode": "playlist_defaultsquad",
						  "isFavorite": false
					   },
					   {
						  "linkData": {
							 "namespace": "fn",
							 "mnemonic": "playlist_papaya",
							 "linkType": "BR:Playlist",
							 "active": true,
							 "disabled": false,
							 "version": 95,
							 "moderationStatus": "Unmoderated",
							 "accountId": "epic",
							 "creatorName": "Epic",
							 "descriptionTags": [],
							 "metadata": {
								"image_url": "https://cdn2.unrealengine.com/partyroyale-1920-1920x1080-7001724bc7ab.jpg",
								"matchmaking": {
								   "override_playlist": "playlist_papaya"
								}
							 }
						  },
						  "lastVisited": null,
						  "linkCode": "playlist_papaya",
						  "isFavorite": false
					   }
					],
					"hasMore": false
				 }
			  ]
		   }
		],
		"TestCohorts": [
		   "testing"
		],
		"ModeSets": {}
	 },
    ver1840 : {
		"Panels": [
		   {
			  "PanelName": "ByEpicNoBigBattle6Col",
			  "Pages": [
				 {
					"results": [
					   {
						  "linkData": {
							 "namespace": "fn",
							 "mnemonic": "playlist_guava",
							 "linkType": "BR:Playlist",
							 "active": true,
							 "disabled": false,
							 "version": 95,
							 "moderationStatus": "Unmoderated",
							 "accountId": "epic",
							 "creatorName": "Epic",
							 "descriptionTags": [],
							 "metadata": {
								"image_url": "https://cdn2.unrealengine.com/18br-guava-playlisttile-1920x1080-1920x1080-e66a6a0a08cf.jpg",
								"matchmaking": {
								   "override_playlist": "playlist_guava"
								}
							 }
						  },
						  "lastVisited": null,
						  "linkCode": "playlist_guava",
						  "isFavorite": false
					   },
					   {
						  "linkData": {
							 "namespace": "fn",
							 "mnemonic": "playlist_defaultsolo",
							 "linkType": "BR:Playlist",
							 "active": true,
							 "disabled": false,
							 "version": 95,
							 "moderationStatus": "Unmoderated",
							 "accountId": "epic",
							 "creatorName": "Epic",
							 "descriptionTags": [],
							 "metadata": {
								"image_url": "https://cdn2.unrealengine.com/25br-solo-1920-1920x1080-f447350aee68.jpg",
								"matchmaking": {
								   "override_playlist": "playlist_defaultsolo"
								}
							 }
						  },
						  "lastVisited": null,
						  "linkCode": "playlist_defaultsolo",
						  "isFavorite": false
					   },
					   {
						  "linkData": {
							 "namespace": "fn",
							 "mnemonic": "playlist_defaultduo",
							 "linkType": "BR:Playlist",
							 "active": true,
							 "disabled": false,
							 "version": 95,
							 "moderationStatus": "Unmoderated",
							 "accountId": "epic",
							 "creatorName": "Epic",
							 "descriptionTags": [],
							 "metadata": {
								"image_url": "https://cdn2.unrealengine.com/25br-duos-1920-1920x1080-8b0ad8cc6fd4.jpg",
								"matchmaking": {
								   "override_playlist": "playlist_defaultduo"
								}
							 }
						  },
						  "lastVisited": null,
						  "linkCode": "playlist_defaultduo",
						  "isFavorite": false
					   },
					   {
						  "linkData": {
							 "namespace": "fn",
							 "mnemonic": "playlist_trios",
							 "linkType": "BR:Playlist",
							 "active": true,
							 "disabled": false,
							 "version": 95,
							 "moderationStatus": "Unmoderated",
							 "accountId": "epic",
							 "creatorName": "Epic",
							 "descriptionTags": [],
							 "metadata": {
								"image_url": "https://cdn2.unrealengine.com/25br-trios-1920-1920x1080-9866e812b10c.jpg",
								"matchmaking": {
								   "override_playlist": "playlist_trios"
								}
							 }
						  },
						  "lastVisited": null,
						  "linkCode": "playlist_trios",
						  "isFavorite": false
					   },
					   {
						  "linkData": {
							 "namespace": "fn",
							 "mnemonic": "playlist_defaultsquad",
							 "linkType": "BR:Playlist",
							 "active": true,
							 "disabled": false,
							 "version": 95,
							 "moderationStatus": "Unmoderated",
							 "accountId": "epic",
							 "creatorName": "Epic",
							 "descriptionTags": [],
							 "metadata": {
								"image_url": "https://cdn2.unrealengine.com/25br-squads-1920-1920x1080-d515b42c587f.jpg",
								"matchmaking": {
								   "override_playlist": "playlist_defaultsquad"
								}
							 }
						  },
						  "lastVisited": null,
						  "linkCode": "playlist_defaultsquad",
						  "isFavorite": false
					   },
					   {
						  "linkData": {
							 "namespace": "fn",
							 "mnemonic": "playlist_papaya",
							 "linkType": "BR:Playlist",
							 "active": true,
							 "disabled": false,
							 "version": 95,
							 "moderationStatus": "Unmoderated",
							 "accountId": "epic",
							 "creatorName": "Epic",
							 "descriptionTags": [],
							 "metadata": {
								"image_url": "https://cdn2.unrealengine.com/partyroyale-1920-1920x1080-7001724bc7ab.jpg",
								"matchmaking": {
								   "override_playlist": "playlist_papaya"
								}
							 }
						  },
						  "lastVisited": null,
						  "linkCode": "playlist_papaya",
						  "isFavorite": false
					   }
					],
					"hasMore": false
				 }
			  ]
		   }
		],
		"TestCohorts": [
		   "testing"
		],
		"ModeSets": {}
	 },
    ver1750 : {
		"Panels": [
		   {
			  "PanelName": "ByEpicNoBigBattle6Col",
			  "Pages": [
				 {
					"results": [
					   {
						  "linkData": {
							 "namespace": "fn",
							 "mnemonic": "playlist_kiwi",
							 "linkType": "BR:Playlist",
							 "active": true,
							 "disabled": false,
							 "version": 95,
							 "moderationStatus": "Unmoderated",
							 "accountId": "epic",
							 "creatorName": "Epic",
							 "descriptionTags": [],
							 "metadata": {
								"image_url": "https://cdn2.unrealengine.com/17br-kiwi-keyart-motd-1920x1080-1920x1080-50ccef17c86f.jpg",
								"matchmaking": {
								   "override_playlist": "playlist_kiwi"
								}
							 }
						  },
						  "lastVisited": null,
						  "linkCode": "playlist_kiwi",
						  "isFavorite": false
					   },
					   {
						  "linkData": {
							 "namespace": "fn",
							 "mnemonic": "playlist_defaultsolo",
							 "linkType": "BR:Playlist",
							 "active": true,
							 "disabled": false,
							 "version": 95,
							 "moderationStatus": "Unmoderated",
							 "accountId": "epic",
							 "creatorName": "Epic",
							 "descriptionTags": [],
							 "metadata": {
								"image_url": "https://cdn2.unrealengine.com/25br-solo-1920-1920x1080-f447350aee68.jpg",
								"matchmaking": {
								   "override_playlist": "playlist_defaultsolo"
								}
							 }
						  },
						  "lastVisited": null,
						  "linkCode": "playlist_defaultsolo",
						  "isFavorite": false
					   },
					   {
						  "linkData": {
							 "namespace": "fn",
							 "mnemonic": "playlist_defaultduo",
							 "linkType": "BR:Playlist",
							 "active": true,
							 "disabled": false,
							 "version": 95,
							 "moderationStatus": "Unmoderated",
							 "accountId": "epic",
							 "creatorName": "Epic",
							 "descriptionTags": [],
							 "metadata": {
								"image_url": "https://cdn2.unrealengine.com/25br-duos-1920-1920x1080-8b0ad8cc6fd4.jpg",
								"matchmaking": {
								   "override_playlist": "playlist_defaultduo"
								}
							 }
						  },
						  "lastVisited": null,
						  "linkCode": "playlist_defaultduo",
						  "isFavorite": false
					   },
					   {
						  "linkData": {
							 "namespace": "fn",
							 "mnemonic": "playlist_trios",
							 "linkType": "BR:Playlist",
							 "active": true,
							 "disabled": false,
							 "version": 95,
							 "moderationStatus": "Unmoderated",
							 "accountId": "epic",
							 "creatorName": "Epic",
							 "descriptionTags": [],
							 "metadata": {
								"image_url": "https://cdn2.unrealengine.com/25br-trios-1920-1920x1080-9866e812b10c.jpg",
								"matchmaking": {
								   "override_playlist": "playlist_trios"
								}
							 }
						  },
						  "lastVisited": null,
						  "linkCode": "playlist_trios",
						  "isFavorite": false
					   },
					   {
						  "linkData": {
							 "namespace": "fn",
							 "mnemonic": "playlist_defaultsquad",
							 "linkType": "BR:Playlist",
							 "active": true,
							 "disabled": false,
							 "version": 95,
							 "moderationStatus": "Unmoderated",
							 "accountId": "epic",
							 "creatorName": "Epic",
							 "descriptionTags": [],
							 "metadata": {
								"image_url": "https://cdn2.unrealengine.com/25br-squads-1920-1920x1080-d515b42c587f.jpg",
								"matchmaking": {
								   "override_playlist": "playlist_defaultsquad"
								}
							 }
						  },
						  "lastVisited": null,
						  "linkCode": "playlist_defaultsquad",
						  "isFavorite": false
					   },
					   {
						  "linkData": {
							 "namespace": "fn",
							 "mnemonic": "playlist_papaya",
							 "linkType": "BR:Playlist",
							 "active": true,
							 "disabled": false,
							 "version": 95,
							 "moderationStatus": "Unmoderated",
							 "accountId": "epic",
							 "creatorName": "Epic",
							 "descriptionTags": [],
							 "metadata": {
								"image_url": "https://cdn2.unrealengine.com/partyroyale-1920-1920x1080-7001724bc7ab.jpg",
								"matchmaking": {
								   "override_playlist": "playlist_papaya"
								}
							 }
						  },
						  "lastVisited": null,
						  "linkCode": "playlist_papaya",
						  "isFavorite": false
					   }
					],
					"hasMore": false
				 }
			  ]
		   }
		],
		"TestCohorts": [
		   "testing"
		],
		"ModeSets": {}
	 },

}

module.exports = (app) => {
	app.post('*/discovery/surface/*', (req, res) =>{
        season = req.headers["user-agent"].split('-')[1];
		seasonglobal = req.headers["user-agent"].split('-')[1].split('.')[0]
		const seasonData = {
			"22.40": discoveryResponses.ver2240,
			"20.40": discoveryResponses.ver2040,
			"18.40": discoveryResponses.ver1840,
			"17.50": discoveryResponses.ver1750,
		};
		for(var i in seasonData){ if (i == season){return res.json(seasonData[season])}}
		if(seasonglobal === "19")
		{
			return res.json(discoveryResponses.ver19)
		}
		else
		{
			return res.json(Default)
		}
	});

	app.post('/links/api/fn/mnemonic/', (req, res) => {
		season = req.headers["user-agent"].split('-')[1]
		seasonglobal = req.headers["user-agent"].split('-')[1].split('.')[0]
        formatting = []
		const seasonData = {
			"22.40": discoveryResponses.ver2240,
			"20.40": discoveryResponses.ver2040,
			"18.40": discoveryResponses.ver1840,
			"17.50": discoveryResponses.ver1750,
		  };
		  
			for(var i in seasonData)
			{
				if(i == season){
					var eventBuilds = seasonData[season].Panels[0].Pages[0].results.map(result => result.linkData); 
					return res.json(eventBuilds);
				}
			}	
		  	if(seasonglobal === "19"){var s19 = discoveryResponses.ver19.Panels[0].Pages[0].results.map(result => result.linkData); return res.json(s19);}		  
		  	else{var defaultResponse = Default.Panels[0].Pages[0].results.map(result => result.linkData)} return res.json(defaultResponse)
	});
	
	app.get('/links/api/fn/mnemonic/:playlistId/related', (req, res) => {
		return res.json({
				"parentLinks": [],
				"links": {
				 [req.params.playlistId]: {
					"namespace": "fn",
					"accountId": "epic",
					"creatorName": "Epic",
					"mnemonic": req.params.playlistId,
					"linkType": "BR:Playlist",
					"metadata": {
					  "image_url": "",
					  "image_urls": {
						"url_s": "",
						"url_xs": "",
						"url_m": "",
						"url": "" 
					  },
					  "matchmaking": {
						"override_playlist": req.params.playlistId
					  }
					},
					"version": 95,
					"active": true,
					"disabled": false,
					"created": "2021-10-01T00:56:45.010Z",
					"published": "2021-08-03T15:27:20.251Z",
					"descriptionTags": [],
					"moderationStatus": "Unmoderated"
				  }
				}
			}) //fixes the play button being disabled
	});




	app.get('/links/api/fn/mnemonic/:playlistId', (req, res) => {
		const seasonData = {
			"22.40": discoveryResponses.ver2240,
			"20.40": discoveryResponses.ver2040,
			"18.40": discoveryResponses.ver1840,
			"17.50": discoveryResponses.ver1750,
		};
		season = req.headers["user-agent"].split('-')[1]
		seasonglobal = req.headers["user-agent"].split('-')[1].split('.')[0]
		for(var i in seasonData)
		{
			try{
				if(i == season)
				{
					for (var i2 in seasonData[season].Panels[0].Pages[0].results) {
						if (seasonData[season].Panels[0].Pages[0].results[i2].linkData.mnemonic == req.params.playlistId){
							return res.json(seasonData[season].Panels[0].Pages[0].results[i2].linkData)
						}
					}

				}
				if(seasonglobal == "19"){
					for(var i2 in discoveryResponses.ver19.Panels[0].Pages[0].results){
						if(discoveryResponses.ver19.Panels[0].Pages[0].results[i2].linkData.mnemonic == req.params.playlistId){
							return res.json(discoveryResponses.ver19.Panels[0].Pages[0].results[i2].linkData)
						}
					}

				}
				else{
					for(var i2 in Default.Panels[0].Pages[0].results){
						if(Default.Panels[0].Pages[0].results[i2].linkData.mnemonic == req.params.playlistId){
							return res.json(Default.Panels[0].Pages[0].results[i2].linkData)
						}
					}
				}
			}
			catch{}// catches null erros
		}
	});

}